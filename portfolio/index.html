<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <title>SlumberousCat: Home</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Index Home Page of Slumberous Cat">

        <link rel="stylesheet" href="stylesheet/style2.css">
       <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>


      <script>
   AFRAME.registerComponent('hoverColor', {
  schema: {
    color: { type: 'color', default: 'yellow' },
    original: { type: 'color', default: 'white' }
  },
  init: function () {
    const el = this.el;
    let material = null;

    // Wait for mesh + material
    el.addEventListener('object3dset', () => {
      const mesh = el.getObject3D('mesh');
      if (mesh) {
        material = mesh.material;
      }
    });

    el.addEventListener('mouseenter', () => {
      if (material && material.color) {
        material.color.set(this.data.color);
        // Also update the A-Frame material attribute for consistency
        el.setAttribute('material', 'color', this.data.color);
      }
    });

    el.addEventListener('mouseleave', () => {
      if (material && material.color) {
        material.color.set(this.data.original);
        // Reset A-Frame material attribute
        el.setAttribute('material', 'color', this.data.original);
      }
    });
  }
});

      </script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: #111;
        font-family: sans-serif;
      }
      .controls {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
      }
      button {
        background: #333;
        color: white;
        border: 1px solid #555;
        padding: 10px 20px;
        margin: 0 10px;
        cursor: pointer;
        font-size: 1em;
      }
      button:hover {
        background: #555;
      }
    </style>


    </head>
  

    <body>
       <!-- Buttons -->
    <div class="controls">
      <button onclick="rotateRoom(90)">⟲ Left</button>
      <button onclick="rotateRoom(-90)">⟳ Right</button>
      
    </div>

    <a-scene background="color: #111" shadow="type: pcfsoft" cursor="rayOrigin: mouse; fuse: false"
  raycaster="objects: .raycastable">

     <a-assets>
    <img id="slide1" src="images/login.webp">
    <img id="slide2" src="images/mag2.webp">
    <img id="slide3" src="images/main.webp">
    <img id="slide4" src="images/mag4.webp">
    <img id="slide5" src="images/movieReview.webp">
    <img id="slide6" src="images/covid19Poster.webp">
    <img id="slide7" src="images/diners.webp">
  </a-assets>

      <!-- Camera -->
     <a-entity position="0 1.5 4" camera look-controls wasd-controls>
        <a-camera>
          <a-cursor 
    raycaster="objects: .raycastable"
    fuse="false"
    material="color: white; shader: flat">
  </a-cursor>
        </a-camera>
      </a-entity>
     


      <!-- Lights -->
     <!--<a-entity light="type: directional" intensity: "2" castShadow="true" position="1 3 2"></a-entity>-->
      <a-light type="point" position="0 4 0" intensity="5" castShadow="true" color="#ffffff"></a-light>
      <a-light type="point" position="0 4 2" intensity="5" castShadow="true" color="#ffffff"></a-light>
       <a-light type="spot"
         position="3 4 0"
         target="#floor"
         angle="45"
         intensity="1.5"
         castShadow="true"
         color="#c90076"
         distance="10"
         penumbra="0.5"
          light-layer="2">
        </a-light>

<!-- <a-light type="directional"
         color="#2c7ac1"
         angle="45"
         intensity="2"
        position="0 4 2"
         target=".rm1"
         light-layer="1"
         castShadow="true">
</a-light> -->

<a-light id="light-front" light="type: directional; intensity: 3" castShadow="true" position="1 3 2" color="#2c7ac1" angle="45" target=".rm1"></a-light>
<a-light id="light-back" light="type: directional; intensity: 0" castShadow="true" position="1 3 2" color="red" target=".rm2"></a-light>
<a-light id="light-left" light="type: directional; intensity: 0" castShadow="true" position="1 3 2" color="pink" target=".rm3"></a-light>
<a-light id="light-right" light="type: directional; intensity: 0" castShadow="true" position="1 3 2" color="green" target=".rm4"></a-light>


<a-entity id="floor" position="0 0 0"></a-entity>

<!-- Hand controls -->
      <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: .raycastable"></a-entity>
      <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: .raycastable" line="color: #118A7E"></a-entity>

      <!-- Cube wrapper that rotates -->
      <a-entity id="cube" position="0 3 0" rotation="0 0 0">
        <!-- Faces -->
         <a-entity>
  <a-box position="0 0 1" width="1" height="2" depth="0.1" color="white" material="src: images/cat.webp; shader: flat; transparent: true"></a-box>
  
  <a-entity
  text="value: Slumberous Cat; font: Barrio-Regular-msdf.json; align: center; width: 4; color: white; shader: msdf; negate: false"
  material="shader: msdf; color: white"
  position="0 2 1"
  scale="2 2 2"
  class="raycastable"
  hoverColor="color: yellow; original: white">
</a-entity>

 <a-entity
  text="value: Use your mouse and keyboard to explore the 3D environment ; font: Barrio-Regular-msdf.json; align: center; width: 4; color: black; shader: msdf; negate: false"
  material="shader: msdf; color: black"
  position="1 -0.8 2"
  scale="0.45 0.45 0.45"
  class="raycastable"
  hoverColor="color: yellow; original: white">
</a-entity>

<a-entity
  text="value: Use your mouse and keyboard to explore the 3D environment ; font: Barrio-Regular-msdf.json; align: center; width: 4; color: white; shader: msdf; negate: false"
  material="shader: msdf; color: white"
  position="1 -0.8 1.95"
  scale="0.45 0.45 0.45"
  class="raycastable"
  opacity="0.5"
  hoverColor="color: yellow; original: white">
</a-entity>

  <a-box position="0 2 1" depth="0.01" height="1" width="4" color="#444" opacity="0.1" class="raycastable"></a-box>

</a-entity>

  <!-- value="Welcome to my portfolio!" , scale 0.8 -->
  <a-text 
    value="Work in progress"
     font="Barrio-Regular-msdf.json"
    negate="false"
    position="1.5 0.5 1.5" 
    rotation="0 -45 2"
    scale="1.5 1.5 1.5"
    align="center"
    shader="msdf"
    color="black"
    material="shader: msdf; color: black"
    width="2"
    class="raycastable">
  </a-text> 

  <a-text 
    value="Hey thanks for visiting \nthis space is under renovation!"
     font="mozillavr"
    negate="false"
    position="1.5 0.2 1.5" 
    rotation="0 -45 2"
    scale="2 2 2"
    align="center"
    color="black"
    width="1"
    class="raycastable">
  </a-text> 

  <a-gltf-model src="file/chair.glb" position="-1 -1 1.8" scale="0.02 0.02 0.02" rotation="-90 50 0"></a-gltf-model>

  <a-plane id="slideshow" position="1.4 -0.4 1.6" rotation="0 -45 2" width="4" height="3" scale="0.2 0.2 0.2" material="shader: flat; src: #slide1"></a-plane>

  <a-entity id="camera" camera position="0 1.6 0"></a-entity>

       <a-plane id="rm1" class="rm1" position="0 0 1" rotation="0 0 0" width="2" height="2" color="red" material="side: front" set-layer="1"></a-plane>
       <a-plane class="rm1" position="1.5 0 1.5" rotation="0 135 0" width="1.5" height="2" color="orange" material="side: back" set-layer="1"></a-plane> 
       <a-plane class="rm1" position="-1.5 0 1.5" rotation="0 -135 0" width="1.5" height="2" color="orange" material="side: back" set-layer="1"></a-plane> 

       <a-plane id="rm2" class="rm2" position="1 0 0" rotation="0 -90 0" width="2" height="2" color="pink" material="side: back"></a-plane>
       <a-plane class="rm2"position="1.5 0 1.5" rotation="0 135 0" width="1.5" height="2" color="teal" material="side: front"></a-plane>
       <a-plane class="rm2" position="1.5 0 -1.5" rotation="0 -135 0" width="1.5" height="2" color="teal" material="side: back"></a-plane> 

       <a-plane id="rm3" class="rm3" position="0 0 -1" rotation="0 180 0" width="2" height="2" color="blue" material="side: front"></a-plane> 
        <a-plane class="rm3" position="-1.5 0 -1.5" rotation="0 135 0" width="1.5" height="2" color="purple" material="side: front"></a-plane> 
        <a-plane class="rm3" position="1.5 0 -1.5" rotation="0 -135 0" width="1.5" height="2" color="purple" material="side: front"></a-plane>

       <a-plane id="rm4" class="rm4"position="-1 0 0" rotation="0 90 0" width="2" height="2" color="green" material="side: back"></a-plane>
        <a-plane class="rm4" position="-1.5 0 1.5" rotation="0 -135 0" width="1.5" height="2" color="yellow" material="side: front"></a-plane> 
        <a-plane class="rm4" position="-1.5 0 -1.5" rotation="0 135 0" width="1.5" height="2" color="yellow" material="side: back"></a-plane> 


<a-plane position="0 1 0" rotation="-90 0 0" width="4" height="4" color="white" material="side: double"></a-plane>
<a-plane position="0 -1 0" rotation="90 0 0" width="4" height="4" color="gray" material="side: double"></a-plane>

      </a-entity>
    </a-scene>

    <script>
      let currentYRotation = 0;
      function rotateRoom(amount) {
        currentYRotation += amount;
        const cube = document.getElementById('cube');
        cube.setAttribute('animation__rotate', {
          property: 'rotation',
          to: `0 ${currentYRotation} 0`,
          dur: 1000,
          easing: 'easeInOutQuad'
        });
        
        updateLights(currentYRotation % 360);

      }

      function updateLights(yRot) {
  // Normalize rotation to 0-360
  yRot = (yRot + 360) % 360;

  // Get your lights
  const frontLight = document.getElementById('light-front');
  const backLight = document.getElementById('light-back');
  const leftLight = document.getElementById('light-left');
  const rightLight = document.getElementById('light-right');

  // Reset all lights intensity or visibility
  frontLight.setAttribute('light', 'intensity', 0);
  backLight.setAttribute('light', 'intensity', 0);
  leftLight.setAttribute('light', 'intensity', 0);
  rightLight.setAttribute('light', 'intensity', 0);

  // Depending on the cube rotation, enable the light for the facing side
  if (yRot >= 315 || yRot < 45) {
    frontLight.setAttribute('light', 'intensity',3);
  } else if (yRot >= 45 && yRot < 135) {
    rightLight.setAttribute('light', 'intensity', 3);
  } else if (yRot >= 135 && yRot < 225) {
    backLight.setAttribute('light', 'intensity', 3);
  } else if (yRot >= 225 && yRot < 315) {
    leftLight.setAttribute('light', 'intensity', 3);
  }
}

 let slides = ['#slide1', '#slide2', '#slide3'];
    let currentIndex = 0;
    let slideEl = document.getElementById('slideshow');

    setInterval(() => {
      currentIndex = (currentIndex + 1) % slides.length;
      slideEl.setAttribute('material', 'src', slides[currentIndex]);
    }, 3000); // Change slide every 3 seconds

    </script>

  </body>
</html>


